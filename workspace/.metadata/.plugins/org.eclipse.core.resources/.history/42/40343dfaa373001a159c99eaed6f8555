package lib.sintactico;

import analizador.ParseException;
import analizador.Token;
import analizador.minilengcompiler;
import analizador.minilengcompilerConstants;

public class PanicMode implements minilengcompilerConstants {
	
	private static int contadorErrores = 0;
	
	public static void iniciar(ParseException e) {
		
		System.err.println("MiniLeng: ERROR SINTÁCTICO (línea " + e.currentToken.next.beginLine +
				", columna " + (e.currentToken.next.beginColumn) + "): Token incorrecto: '" +
                e.currentToken.next + "'. " + mensaje);
		
		Token t = minilengcompiler.getNextToken();
		while(t.kind != tFIN_SENTENCIA && t.kind != EOF) {
			System.out.println("Warning: descartado token: " + t.image);
			t = minilengcompiler.getNextToken();
		}

		if (t.kind == EOF) {
			System.out.println("Fila, columna: Se ha terminado el fichero. Terminado panic mode");
		}
		else {
			System.out.println("Fila, columna: Se ha encontrado ';'. Terminado panic mode");        
		}
	}
}
