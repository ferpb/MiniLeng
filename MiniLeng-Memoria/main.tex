\documentclass[a4paper,10pt]{article}

\usepackage{url}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[spanish, es-tabla]{babel}
\usepackage[indent]{parskip}

\clubpenalty=10000
\widowpenalty=10000

\usepackage[gen]{eurosym}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true, % make the links colored
    linkcolor=blue, % color TOC links in blue
    urlcolor=black, % color URLs in red
    linktoc=all % 'all' will create links for everything in the TOC
}

\usepackage[dvipsnames]{xcolor}
\usepackage{setspace}
\usepackage{float}


\usepackage{biblatex}
\bibliography{fuentes.bib}


\setlength{\parindent}{0cm}
\usepackage{amsmath, amssymb}

\usepackage{csquotes}

\renewcommand{\it}[1]{\textit{#1}}
\renewcommand{\bf}[1]{\textbf{#1}}
\renewcommand{\tt}[1]{\texttt{#1}}

\newcommand{\car}[1]{`\texttt{#1}'}
\newcommand{\tok}[1]{\texttt{\textless#1\textgreater}}





% Listados de código
\usepackage{listings}
\lstdefinelanguage{minileng}{
  %keyword1&2&6
  morekeywords = [1]{programa, principio, fin, si, ent, si\_no, fsi, mq, fmq, accion},
  %keyword3
  morekeywords = [2]{escribir, leer, entacar, caraent},
  %keyword4
  morekeywords = [3]{entero, caracter, booleano},
  %keyword5
  morekeywords = [4]{ref, val},
  %function1
  sensitive = true,
  morecomment = [l]{\%},
  morecomment = [s]{\%\%}{\%\%},
  % morecomment = [s]{/**}{*/},
  morestring = [b]",
  stringstyle = \color{purple},
  sensitive=false
}
\lstdefinestyle{minileng}{
  language={minileng},
  basicstyle={\ttfamily\small},
  commentstyle={\small\itshape\color{Maroon}},
  ndkeywordstyle={\small},
  stringstyle={\ttfamily\color{red}},
  % frame={tb},
  breaklines=true,
  columns=[l]{fullflexible},
  % numbers=left,
  xrightmargin=0em,
  xleftmargin=3.5em,
  numberstyle={\scriptsize},
  stepnumber=1,
  numbersep=1em,
  lineskip=-0.5ex,
  keywordstyle = [1]\bfseries\color{blue},
  keywordstyle = [2]\bfseries\color{OliveGreen},
  keywordstyle = [3]\bfseries\color{cyan},
  keywordstyle = [4]\bfseries\color{orange},
  literate=
    {á}{{\'a}}1
    {Á}{{\'A}}1
    {à}{{\`a}}1
    {ã}{{\~a}}1
    {é}{{\'e}}1
    {É}{{\'E}}1
    {ê}{{\^e}}1
    {í}{{\'i}}1
    {ó}{{\'o}}1
    {Ó}{{\'O}}1
    {õ}{{\~o}}1
    {ú}{{\'u}}1
    {Ú}{{\'U}}1
    {ü}{{\"u}}1
    {ñ}{{\~n}}1
    {ç}{{\c{c}}}1,
    captionpos=b
}
\lstdefinestyle{text}{
  basicstyle={\ttfamily\small},
  breaklines=true,
  % columns=[l]{fullflexible},
  columns=flexible,
  % xrightmargin=0em,
  % xleftmargin=3.5em,
  lineskip=-0.5ex,
  literate=
    {á}{{\'a}}1
    {Á}{{\'A}}1
    {à}{{\`a}}1
    {ã}{{\~a}}1
    {é}{{\'e}}1
    {É}{{\'E}}1
    {ê}{{\^e}}1
    {í}{{\'i}}1
    {ó}{{\'o}}1
    {Ó}{{\'O}}1
    {õ}{{\~o}}1
    {ú}{{\'u}}1
    {Ú}{{\'U}}1
    {ü}{{\"u}}1
    {ñ}{{\~n}}1
    {ç}{{\c{c}}}1,
    captionpos=b
}
\lstdefinestyle{java}{
language=java,
tabsize = 4, %% set tab space width
showstringspaces = false, %% prevent space marking in strings, string is defined as the text that is generally printed directly to the console
% numbers = left, %% display line numbers on the left
commentstyle = \color{OliveGreen}, %% set comment color
keywordstyle = \color{blue}, %% set keyword color
stringstyle = \color{red}, %% set string color
rulecolor = \color{black}, %% set frame color to avoid being affected by text color
basicstyle = \small \ttfamily , %% set listing font and size
breaklines = true, %% enable line breaking
numberstyle = \tiny,
}

\renewcommand{\lstlistingname}{Código}

\lstnewenvironment{minileng}[1][]
    {\hfill\lstset{style=minileng,#1}\minipage{0.8\linewidth}}
    {\endminipage\hfill\null}

\lstnewenvironment{codigo}[1][]
    {\hfill\lstset{style=text,#1}\minipage{0.9\linewidth}}
    {\endminipage\hfill\null}


\usepackage{fancyvrb}

\usepackage{booktabs} % Allows the use of \toprule, \midrule and \bottomrule in tables for horizontal lines
\usepackage{graphicx}
\graphicspath{{imagenes/}{../imagenes/}} % Declara dos paths, uno con respecto a este documento y otro respecto a la carpeta secciones

\usepackage[margin=3cm, headheight=13.6pt]{geometry}
\usepackage{fancyhdr}
\fancyhf{}
\lhead{\emph{Procesadores de Lenguajes -- 2019-20}}
\rhead{\emph{Compilador de MiniLeng}}
\fancyfoot[C]{\thepage}

\usepackage[titletoc, title]{appendix}

\usepackage{fancyvrb}

\begin{document}

\begin{titlepage}
    \centering
    \includegraphics[width=1 cm]{logoUZ.jpg}

    \textsc{\large Universidad de Zaragoza}
    \rule{\textwidth}{1.6pt}\vspace*{-\baselineskip}\vspace*{2pt} % Thick horizontal rule
    \rule{\textwidth}{0.4pt} % Thin horizontal rule

    \vfill

    {\LARGE \scshape Procesadores de Lenguajes}

    \vspace{2cm}

    {\bfseries \Huge Compilador de MiniLeng}

    \vspace{.5cm}

    {\bfseries \Large Informe sobre el desarrollo del compilador}

    \vspace{3cm}



    % {\large \scshape Autor}

    %\vspace{0.2cm}

    {\large Fernando Peña Bes (NIA: 756012)}

    \vfill

    \large{Zaragoza, España}

    {Curso 2019\,--\,2020}

    \vfill

    \includegraphics[width=5.0cm]{EINA.png}

\end{titlepage}

\pagenumbering{Roman}

\input{secciones/introduccion}

\tableofcontents
%\listoffigures
%\listoftables

\pagebreak

\setcounter{page}{1}
\pagenumbering{arabic}

\pagestyle{fancy}

\include{secciones/lexico}
\include{secciones/sintactico}
\include{secciones/tabla-simbolos}
\include{secciones/semantico}
\include{secciones/generacion-codigo}
\include{secciones/mejoras-introducidas}
\include{secciones/pruebas}

\renewcommand\appendixname{Anexo}

\begin{appendices}
\include{secciones/gramatica}
% \input{secciones/uso}
\end{appendices}

\clearpage{}
\newpage
\nocite{*}
\addcontentsline{toc}{section}{Referencias}
\printbibliography

\end{document}
